{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <!-- ===== META BÁSICOS ===== -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ===== SEO POWER‑UPS ===== -->
  <title>Cortinas Hanga Roa | Cortinas de Madera a Medida</title>
  <meta name="description" content="Desde 1980 diseñamos e instalamos cortinas de madera a medida en Hanga Roa. Visita gratuita, instalación profesional y calidad artesanal.">
  <meta name="keywords" content="Cortinas Hanga Roa, cortinas madera, cortinas a medida, cortinas Isla de Pascua, instalación cortinas, cortinas artesanales, cortinas personalizadas">
  <meta name="author" content="Cortinas Hanga Roa">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://www.hanga-roa.cl/">

  <!-- ===== OPEN GRAPH ===== -->
  <meta property="og:title" content="Cortinas Hanga Roa | Cortinas de Madera a Medida">
  <meta property="og:description" content="Cortinas de madera hechas a medida con instalación profesional en Hanga Roa. Más de 40 años de experiencia artesanal.">
  <meta property="og:image" content="{% static 'proyectos/og-hanga-roa.jpg' %}">
  <meta property="og:url" content="https://www.hanga-roa.cl/">
  <meta property="og:type" content="website">

  <!-- ===== TIPOGRAFÍAS ===== -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- ===== CSS & ICONOS ===== -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'proyectos/styles.css' %}">
</head>

<body class="bg-white text-dark" style="font-family: 'Montserrat', sans-serif;">

<!-- ============ NAVBAR ============ -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top shadow" style="background-color: #f0f0f0;">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <!-- Logo -->
    <a class="navbar-brand me-auto" href="#inicio">
      <img src="{% static 'proyectos/logo_ccs.png' %}"
          alt="Cortinas Hanga Roa logo"
          class="logo-navbar">
    </a>

    <!-- Menú colapsable -->
    <button class="navbar-toggler ms-3" type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <ul class="navbar-nav gap-3">
        <li class="nav-item"><a class="nav-link" href="#inicio">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="#galeria">Productos</a></li>
        <li class="nav-item"><a class="nav-link" href="#end">Contacto</a></li>
      </ul>
    </div>
  </div>
</nav>


<!-- ============ HERO / CARRUSEL ============ -->
<header id="inicio" class="container-fluid px-0">
  <div id="carruselCortinas" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
    <div class="carousel-inner">
      {% for imagen in imagenes %}
      <div class="carousel-item {% if forloop.first %}active{% endif %} position-relative" style="height:80vh;">
        <img src="{{ imagen.imagen.url }}" class="d-block w-100 h-100" alt="{{ imagen.titulo }}" style="object-fit:cover;">
        <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-50"></div>
        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-between align-items-center text-white z-2 p-4 font-poppins">
          <p class="lead">CALIDAD Y EXPERIENCIA DESDE 1980</p>
          <h2 class="display-3 fw-light font-poppins">{{ imagen.titulo }}</h2>
          <a href="#end" class="btn-solo-underline">Solicitar Cotización</a>
        </div>
      </div>
      {% endfor %}
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carruselCortinas" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carruselCortinas" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </div>
</header>

<!-- ============ H1 DESTACADO ============ -->
<section id="cortinas-a-medida" class="py-5 text-center bg-white">
  <div class="container">
    <h1 class="display-5 fw-bold text-madera">CORTINAS HANGA ROA</h1>
    <p class="lead text-secondary">Diseñamos e instalamos cortinas personalizadas con materiales de primera calidad y acabado artesanal impecable.</p>
  </div>
</section>

<!-- ============ PRODUCTOS ============ -->
<section id="galeria" class="py-4 bg-white">
  <div class="container-fluid px-3">
    <h2 class="mb-5 px-3">Nuestros <strong>PRODUCTOS</strong></h2>
    <!-- Solo cambiamos row y cols: centramos y pasamos a 3 columnas en lg -->
    <div class="row justify-content-center g-1">
      {% for producto in productos %}
      <div class="col-12 col-sm-6 col-lg-4">
        <!-- === TU CARD ORIGINAL, SIN TOCAR === -->
        <div class="card border-0 h-100 shadow-lg rounded-2xl overflow-hidden d-flex flex-column">
          <img src="{{ producto.imagen.url }}"
               class="card-img-top"
               alt="{{ producto.nombre }}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ producto.nombre }}</h5>
            <p class="card-text">{{ producto.descripcion }}</p>
            <a href="{% url 'detalle_producto' producto.id %}"
               class="btn-ver-trabajos mt-auto">
               Ver Trabajos
            </a>
          </div>
        </div>
        <!-- === FIN DE TU CARD ORIGINAL === -->
      </div>
      {% endfor %}
    </div>
  </div>
</section>


<!-- ============ SERVICIOS ============ -->
<section id="servicios" class="py-5">
  <div class="container">
    <h2 class="text-center mb-5">Nuestros Servicios</h2>
    <div class="row text-center">
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <i class="bi bi-rulers fs-1 text-white mb-3"></i>
            <h5 class="fw-bold">Visita para Tomar Medidas</h5>
            <p>Vamos a tu hogar sin costo para medir y asesorarte en tu proyecto.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <i class="bi bi-tools fs-1 text-white mb-3"></i>
            <h5 class="fw-bold">Mantenimiento de Cortinas</h5>
            <p>Reparamos y damos mantenimiento profesional para que tus cortinas duren años.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <i class="bi bi-house-gear fs-1 text-white mb-3"></i>
            <h5 class="fw-bold">Instalación Profesional</h5>
            <p>Nos encargamos de la instalación para que todo quede perfecto y alineado.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ============ GALERÍA DESTACADA ============ -->
<section id="destacados" class="py-5 bg-light">
  <div class="container">
    <h2 class="mb-5"> <strong> Galería </strong> Destacada</h2>
    <div class="row g-1">
      {% for d in destacados %}
      <div class="col-6 col-md-4 col-lg-3">
        <div class="gallery-item position-relative overflow-hidden shadow-sm">
          <img src="{{ d.imagen.url }}" alt="{{ d.titulo }}" class="img-fluid">
          <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center">
            <i class="bi bi-arrows-fullscreen text-white fs-2"></i>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-center">Aún no hay destacados.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ============ SOBRE NOSOTROS ============ -->
<section id="sobre-nosotros" class="py-5 bg-light">
  <div class="container">
    <div class="row gx-5 align-items-start">
      <!-- Imagen -->
      <div class="col-md-6 order-md-2 mb-4 mb-md-0 text-end">
        <img src="{% static 'proyectos/sobre-nosotros.jpg' %}" alt="Equipo trabajando" class="img-fluid rounded shadow"  style="height: 350px;">
      </div>
      <!-- Texto -->
      <div class=" texto col-md-6 order-md-1">
        <h2 class="fw-bold mb-3 text-madera">Sobre Cortinas Hanga Roa</h2>
        <p class="lead text-secondary mb-4">
          Desde 1980, fusionamos tradición y diseño moderno para vestir tus ventanas con cortinas artesanales de primera calidad.
        </p>
        <ul class="list-unstyled">
          <li class="d-flex align-items-start mb-2"><i class="bi bi-check-circle-fill text-madera me-2 fs-5"></i><span>Más de 40 años de experiencia familiar.</span></li>
          <li class="d-flex align-items-start mb-2"><i class="bi bi-check-circle-fill text-madera me-2 fs-5"></i><span>Materiales premium y acabados a medida.</span></li>
          <li class="d-flex align-items-start"><i class="bi bi-check-circle-fill text-madera me-2 fs-5"></i><span>Servicio integral: medición, fabricación e instalación.</span></li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- ============ FAQ + CONTACTO ============ -->
<section id="end" class="d-flex align-items-center">
  <div class="container">
    <h2 class="text-white text-center mb-5">¿En qué podemos ayudarte?</h2>
    <div class="row gx-5 gy-4 align-items-start">
      <!-- FAQs -->
      <div class="col-lg-5">
        <div class="p-4 rounded shadow-sm">
          <h3 class="mb-4 text-center text-white">Preguntas frecuentes</h3>
          <div class="accordion accordion-flush" id="faqAccordion">
            <!-- Pregunta 1 -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-collapseOne" aria-expanded="false" aria-controls="faq-collapseOne">
                  ¿Cómo miden mis espacios?
                </button>
              </h2>
              <div id="faq-collapseOne" class="accordion-collapse collapse" aria-labelledby="faq-headingOne" data-bs-parent="#faqAccordion">
                <div class="accordion-body">Nuestro equipo llega hasta tu casa sin costo para tomar medidas precisas y asesorarte.</div>
              </div>
            </div>
            <!-- Pregunta 2 -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq-headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-collapseTwo" aria-expanded="false" aria-controls="faq-collapseTwo">
                  ¿Cuánto tarda la instalación?
                </button>
              </h2>
              <div id="faq-collapseTwo" class="accordion-collapse collapse" aria-labelledby="faq-headingTwo" data-bs-parent="#faqAccordion">
                <div class="accordion-body">Normalmente en 1–2 días hábiles después de la fabricación, según complejidad.</div>
              </div>
            </div>
            <!-- Pregunta 3 -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="faq-headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-collapseThree" aria-expanded="false" aria-controls="faq-collapseThree">
                  ¿Ofrecen garantía?
                </button>
              </h2>
              <div id="faq-collapseThree" class="accordion-collapse collapse" aria-labelledby="faq-headingThree" data-bs-parent="#faqAccordion">
                <div class="accordion-body">Sí, todas nuestras cortinas tienen 2 años de garantía por defectos de fabricación.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Formulario de contacto -->
      <div class="col-lg-6">
        <div class="p-4 rounded shadow-sm">
          <h3 class="mb-4 text-center text-white">Contáctanos</h3>
          {% if messages %}
          <div class="alert alert-success text-center">
            {% for m in messages %}{{ m }}{% endfor %}
          </div>
          {% endif %}
          <form method="post">
            {% csrf_token %}
            <div class="mb-3">
              <label class="form-label text-white">Nombre</label>
              {{ form.nombre }}
            </div>
            <div class="mb-3">
              <label class="form-label text-white">Teléfono</label>
              {{ form.telefono }}
            </div>
            <div class="mb-3">
              <label class="form-label text-white">Correo</label>
              {{ form.correo }}
            </div>
            <div class="mb-3">
              <label class="form-label text-white">Mensaje</label>
              {{ form.mensaje }}
            </div>
            <button type="submit" class="btn btn-outline-light">Enviar Mensaje</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ============ FOOTER ============ -->
<footer class="bg-dark text-light pt-5 pb-3">
  <div class="container">
    <div class="row">
      <!-- Logo -->
      <div class="col-lg-3 text-center text-lg-start">
        <a href="#inicio">
          <img src="{% static 'proyectos/logo_ccs.png' %}" alt="Cortinas Hanga Roa" class="img-fluid mb-2 footer-logo">
        </a>
      </div>

      <!-- Cortinas en Hanga Roa -->
      <div class="col-lg-3">
        <h5>Cortinas en Hanga Roa</h5>
        <ul class="list-unstyled small">
          <li><a href="#galeria" class="text-light text-decoration-none">Cortinas de madera</a></li>
          <li><a href="#servicios" class="text-light text-decoration-none">Cortinas personalizadas</a></li>
          <li><a href="#sobre-nosotros" class="text-light text-decoration-none">Instalación en Isla de Pascua</a></li>
        </ul>
      </div>

      <!-- Enlaces -->
      <div class="col-lg-3">
        <h5>Enlaces</h5>
        <ul class="list-unstyled small">
          <li><a href="#inicio" class="text-light text-decoration-none">Inicio</a></li>
          <li><a href="#galeria" class="text-light text-decoration-none">Productos</a></li>
          <li><a href="#end" class="text-light text-decoration-none">Contacto</a></li>
        </ul>
      </div>

      <!-- Redes sociales -->
      <div class="col-lg-3">
        <h5>Síguenos</h5>
        <ul class="list-inline">
          <li class="list-inline-item"><a href="#" class="text-light fs-4"><i class="bi bi-facebook"></i></a></li>
          <li class="list-inline-item"><a href="#" class="text-light fs-4"><i class="bi bi-instagram"></i></a></li>
          <li class="list-inline-item"><a href="#" class="text-light fs-4"><i class="bi bi-whatsapp"></i></a></li>
        </ul>
      </div>
    </div>

    <div class="text-center small pt-0 mt-0">
      &copy; {% now "Y" %} Cortinas Hanga Roa | Expertos en cortinas de madera personalizadas.
    </div>
  </div>
</footer>

<!-- ============ MODAL IMAGEN ============ -->
<div class="modal fade" id="modalImagen" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-transparent border-0">
      <div class="modal-body p-0">
        <img src="" id="imagenExpandida" class="img-fluid rounded shadow" alt="Imagen destacada">
      </div>
    </div>
  </div>
</div>

<!-- ============ JS ============ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const items = document.querySelectorAll('.gallery-item');
    const modal = new bootstrap.Modal(document.getElementById('modalImagen'));
    const imagenExpandida = document.getElementById('imagenExpandida');
    let lastFocusedElement = null; // <- Vamos a guardar dónde estaba el focus antes

    items.forEach(item => {
      item.addEventListener('click', () => {
        const img = item.querySelector('img');
        imagenExpandida.src = img.src;
        lastFocusedElement = document.activeElement; // Guardamos el que tenía foco
        modal.show();
      });
    });

    // Cuando se cierre el modal, volvemos el foco al último elemento que lo tenía
    const modalElement = document.getElementById('modalImagen');
    modalElement.addEventListener('hidden.bs.modal', () => {
      if (lastFocusedElement) {
        lastFocusedElement.focus();
      }
    });
  });
</script>

<a href="https://wa.me/56995904690?text=Hola,%20quiero%20cotizar%20cortinas!!!"
   class="btn btn-success rounded-circle shadow-lg position-fixed"
   style="bottom: 1rem; right: 1rem; z-index: 1050;"
   target="_blank"
   rel="noopener"
   aria-label="Chat por WhatsApp">
  <i class="bi bi-whatsapp fs-3 text-white"></i>
</a>

</body>
</html>

